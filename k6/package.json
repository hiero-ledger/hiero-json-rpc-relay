{
  "name": "hedera-rpc-relay-k6-perf-test",
  "version": "0.1.0",
  "description": "Performance Test for hiero-json-rpc-relay using node and k6",
  "type": "module",
  "scripts": {
    "prep-and-run": "npm run prep && npm run k6",
    "prep": "env-cmd node src/prepare/prep.js",
    "k6": "env-cmd --use-shell k6 run src/scenarios/apis.js",
    "k6-ws": "env-cmd --use-shell k6 run src/scenarios/ws-apis.js",
    "stress:exec": "mkdir -p stress-test-reports/k6/ && TEST_TYPE=stress env-cmd --use-shell k6 run src/scenarios/stress-test.js",
    "stress:exec-with-prep": "npm run prep && npm run stress:exec",
    "stress:exec-and-stop-relay": "npm run stress:exec-with-prep && npx pm2 stop monitored-relay",
    "stress:clean-artifacts": "rm -rf stress-test-reports && npx pm2 kill monitored-relay",
    "start-relay-monitored": "cd ../packages/server && ../../k6/node_modules/.bin/pm2 start dist/index.js --name monitored-relay --node-args=\"--inspect --cpu-prof --heap-prof --diagnostic-dir=../../k6/stress-test-reports/performance-profiles/session-$(date +%s)\" && ../../k6/node_modules/.bin/pm2 monit monitored-relay"
  },
  "dependencies": {
    "env-cmd": "^10.1.0",
    "ethers": "^6.15.0"
  },
  "devDependencies": {
    "@types/k6": "^1.1.1",
    "pm2": "^6.0.8"
  }
}
